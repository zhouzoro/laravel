"use strict";function toggleSidebar(){$(".sidebar").sidebar("toggle")}function ScrollTop(){var t=$("html, body");t.stop().animate({scrollTop:0},"500")}function showScrollTop(){checkVisible($("#top-indicator"))?($("#vertical-nv").removeClass("pinned").addClass("normal"),$("#scroll-top").removeClass("in").addClass("out")):($("#vertical-nv").removeClass("normal").addClass("pinned"),$("#scroll-top").removeClass("out").addClass("in"))}function changeToolBarPosition(){var t=$(".mce-toolbar-grp.mce-container.mce-panel.mce-stack-layout-item.mce-first"),e=$("#ops");checkVisible($(".mce-top-indicator"))?t.removeClass("pinned"):t.addClass("pinned"),checkVisible($("footer"))?e.removeClass("pinned"):e.addClass("pinned")}function checkVisible(t,e){e=e||"visible";var o=$(window).height(),i=$(window).scrollTop(),s=$(t).offset().top,a=$(t).height();return"visible"===e?o+i>s&&s>i-a:"above"===e?o+i>s:void 0}function scrollTo(t){var e=$("html, body");e.stop().animate({scrollTop:$(t).offset().top},"500")}function initMce(t,e){var o=!1;e&&(o=!0),tinymce.init({selector:t,skin:"mxc1",language:"zh_CN",plugins:"table autoresize paste image imagetools preview",toolbar:"formatselect fontsizeselect bold italic underline strikethrough alignleft aligncenter alignright alignfull advlist lists link image preview",image_caption:!0,paste_data_images:!0,fontsize_formats:"8pt 9pt 10pt 11pt 12pt 14pt 18pt 24pt",menubar:!1,images_upload_url:"/images",statusbar:!1,min_height:400})}function uploadPic(){var t=$(this).next("img"),e=$(this).find("#pic-loader"),o=$(this).find("label"),i=$("<input>").attr({type:"file","class":"temp-input"}).css({display:"none",position:"absolute"}).change(function(){if(this.files&&this.files[0]){var i=new FileReader;i.onload=function(e){t.attr("src",e.target.result)},i.readAsDataURL(this.files[0]),o.removeClass("btn").addClass("pct");var s=function(t){var i=Math.ceil(100*t.loaded/t.total),s=100-i;e.css({height:s+"px"}),o.text(i+"%")},a=new XMLHttpRequest;a.withCredentials=!1,a.open("POST","/images"),a.onload=function(){var e=JSON.parse(a.responseText);console.log(e.location),t.attr("src",e.location),o.removeClass("pct").addClass("btn").text("change"),$(".temp-input").remove()},a.upload.addEventListener("progress",s,!1);var l=new FormData;l.append("image",this.files[0],this.files[0].name),a.send(l)}});$("body").append(i),i.click()}function computProgress(t){var e=Math.ceil(1e3*t.loaded/t.total)/10+"%";return e}function GetCurrentDate(){var t=new Date,e=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getFullYear()+"-"+e+"-"+t.getDate();return o}function getQuoteText(t){var e="";return $(t).find("*").each(function(){return $(this).text().length>32?(e=$(this).text(),!1):void 0}),e}$(document).ready(function(){$("#sidebar-hidden").find(".item.nav-link").click(function(){$(".sidebar").sidebar("hide")}),$(".content-module").each(function(t,e){checkVisible(e)&&$(e).addClass("already-visible")}),changeToolBarPosition()}),$(document).scroll(function(){changeToolBarPosition()});var scrollStatus={scrollRecord:[0,0],init:function(){scrollStatus.setPosition()},setPosition:function(){scrollStatus.position=$(window).scrollTop()},recordScroll:function(){scrollStatus.scrollRecord[1]=scrollStatus.scrollRecord[0],scrollStatus.scrollRecord[0]=$(window).scrollTop()>scrollStatus.position?-1:1,scrollStatus.position=$(window).scrollTop(),scrollStatus.direction=-1===scrollStatus.scrollRecord[0]?"down":"up",scrollStatus.continuous=scrollStatus.scrollRecord[0]===scrollStatus.scrollRecord[1]},adaptResize:function(){scrollStatus.init()}};$(document).ready(scrollStatus.init),$(window).resize(scrollStatus.adaptResize),$(".add-btn").click(function(){var t=$("<div>").attr("class","expand-transition");$(this).append(t);var e=$(this).data("url"),o=$(this).data("type");$.get(e,function(e){$("#modal-cust").find(".container").html(e),$("#btn-cancel").click(function(){$("#body").show(),$("#modal-cust").hide("fast"),$("#modal-cust").find(".container").html("")}),$("#modal-cust").show("slow"),$("#body").hide("slow"),initUploadOf(o),t.remove(),$("#edit-pic").click(uploadPic)})});
//# sourceMappingURL=../maps/main.babeled.min.js.map
